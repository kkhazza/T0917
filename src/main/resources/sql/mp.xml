<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mp">
  <select id="login" resultType="hyun.jung.kim.Beans.MemberBean">
  	SELECT no, id, pw, email FROM Member where delYn='N' and appYn='Y'  
  </select>
  <insert id="register" parameterType="hyun.jung.kim.Beans.MemberBean">
  	INSERT INTO Member (id,pw,email) VALUES (#{id},#{pw},#{email})
  </insert>
  <select id="idcheck" parameterType="hyun.jung.kim.Beans.MemberBean" resultType="Integer">
  	SELECT NVL(MAX(1),0) FROM Member WHERE id = #{id} and delYn = 'N'
  </select>
  <update id="accountedit" parameterType="hyun.jung.kim.Beans.MemberBean">
  	UPDATE Member SET id = #{id}, pw = #{pw}, email = #{email} WHERE no = #{no}
  </update>
  <update id="accountdelete" parameterType="hyun.jung.kim.Beans.MemberBean">
  	UPDATE Member SET delYn = "Y" WHERE no = #{no}
  </update>
  <select id="select" parameterType="hyun.jung.kim.Beans.FileBean" resultType="hyun.jung.kim.Beans.FileBean">
  	SELECT `no`,id,title,`comment`,fn,fu FROM `File` WHERE delYn = "N"
  	<if test="title != null">
  			and title like '%${title}%'
  	</if>
  </select>
</mapper>